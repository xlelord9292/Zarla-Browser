<UserControl x:Class="Zarla.Browser.Views.SettingsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="{DynamicResource BackgroundBrush}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar Navigation -->
        <Border Grid.Column="0" 
                Background="{DynamicResource SurfaceBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="0,0,1,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Header -->
                <StackPanel Grid.Row="0" Margin="20,24,20,24">
                    <TextBlock Text="âš™ï¸ Settings"
                               FontSize="24"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"/>
                </StackPanel>

                <!-- Navigation Items -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="NavPanel" Margin="8,0">
                        <RadioButton x:Name="GeneralNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸ   General" IsChecked="True"
                                     Checked="NavButton_Checked" Tag="General"/>
                        <RadioButton x:Name="AppearanceNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸŽ¨  Appearance"
                                     Checked="NavButton_Checked" Tag="Appearance"/>
                        <RadioButton x:Name="PrivacyNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸ”’  Privacy"
                                     Checked="NavButton_Checked" Tag="Privacy"/>
                        <RadioButton x:Name="SecurityNav" Style="{StaticResource NavButton}"
                                     Content="ðŸ›¡ï¸  Security"
                                     Checked="NavButton_Checked" Tag="Security"/>
                        <RadioButton x:Name="PasswordsNav" Style="{StaticResource NavButton}"
                                     Content="ðŸ”‘  Passwords"
                                     Checked="NavButton_Checked" Tag="Passwords"/>
                        <RadioButton x:Name="NetworkNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸŒ  Network"
                                     Checked="NavButton_Checked" Tag="Network"/>
                        <RadioButton x:Name="PerformanceNav" Style="{StaticResource NavButton}" 
                                     Content="âš¡  Performance"
                                     Checked="NavButton_Checked" Tag="Performance"/>
                        <RadioButton x:Name="DataNav" Style="{StaticResource NavButton}"
                                     Content="ðŸ’¾  Data"
                                     Checked="NavButton_Checked" Tag="Data"/>
                        <RadioButton x:Name="AINav" Style="{StaticResource NavButton}"
                                     Content="ðŸ¤–  AI"
                                     Checked="NavButton_Checked" Tag="AI"/>
                        <RadioButton x:Name="AboutNav" Style="{StaticResource NavButton}"
                                     Content="â„¹ï¸  About"
                                     Checked="NavButton_Checked" Tag="About"/>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- Content Area -->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto" Padding="40,24,40,40">
            <StackPanel MaxWidth="700">

                <!-- General Section -->
                <StackPanel x:Name="GeneralSection">
                    <TextBlock Text="General"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Basic browser settings"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <!-- Homepage -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="280"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Homepage" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Page to show when opening new windows" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <TextBox x:Name="HomepageTextBox"
                                         Grid.Column="1"
                                         Style="{StaticResource ModernTextBox}"
                                         TextChanged="HomepageTextBox_TextChanged"/>
                            </Grid>

                            <!-- Search Engine -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="280"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Search Engine" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Default search provider for address bar" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <ComboBox x:Name="SearchEngineCombo"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernComboBox}"
                                          SelectionChanged="SearchEngineCombo_SelectionChanged"/>
                            </Grid>

                            <!-- Download Path -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="280"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Download Location" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock x:Name="DownloadPathText" Text="Where to save downloaded files" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0" TextTrimming="CharacterEllipsis"/>
                                </StackPanel>
                                <Button x:Name="DownloadPathButton"
                                        Grid.Column="1"
                                        Style="{StaticResource ModernButton}"
                                        Content="ðŸ“  Choose Folder"
                                        Click="DownloadPathButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Appearance Section -->
                <StackPanel x:Name="AppearanceSection" Visibility="Collapsed">
                    <TextBlock Text="Appearance"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Customize how Zarla looks"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <!-- Theme -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Theme" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Choose between dark and light mode" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                    <RadioButton x:Name="DarkThemeRadio"
                                                 Style="{StaticResource ThemeRadioButton}"
                                                 Content="ðŸŒ™ Dark"
                                                 Margin="0,0,12,0"
                                                 Checked="ThemeRadio_Checked"/>
                                    <RadioButton x:Name="LightThemeRadio"
                                                 Style="{StaticResource ThemeRadioButton}"
                                                 Content="â˜€ï¸ Light"
                                                 Checked="ThemeRadio_Checked"/>
                                </StackPanel>
                            </Grid>

                            <!-- Show Bookmarks Bar -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Show Bookmarks Bar" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Display bookmarks below the address bar" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="BookmarksBarCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="BookmarksBarCheckbox_Changed"
                                          Unchecked="BookmarksBarCheckbox_Changed"/>
                            </Grid>

                            <!-- Show Home Button -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Show Home Button" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Display home button in navigation bar" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="HomeButtonCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="HomeButtonCheckbox_Changed"
                                          Unchecked="HomeButtonCheckbox_Changed"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Privacy Section -->
                <StackPanel x:Name="PrivacySection" Visibility="Collapsed">
                    <TextBlock Text="Privacy"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Control how Zarla protects your privacy"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <!-- Ad Blocker -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Block Ads" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Block advertisements and popups" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="AdBlockerCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="AdBlockerCheckbox_Changed"
                                          Unchecked="AdBlockerCheckbox_Changed"/>
                            </Grid>

                            <!-- Tracker Blocker -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Block Trackers" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Prevent websites from tracking you" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="TrackerBlockerCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="TrackerBlockerCheckbox_Changed"
                                          Unchecked="TrackerBlockerCheckbox_Changed"/>
                            </Grid>

                            <!-- Fingerprint Protection -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Fingerprint Protection" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Randomize browser fingerprint" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="FingerprintCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="FingerprintCheckbox_Changed"
                                          Unchecked="FingerprintCheckbox_Changed"/>
                            </Grid>

                            <!-- Do Not Track -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Send 'Do Not Track'" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Request websites not to track you" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="DoNotTrackCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="DoNotTrackCheckbox_Changed"
                                          Unchecked="DoNotTrackCheckbox_Changed"/>
                            </Grid>

                            <!-- Clear on Exit -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Clear Data on Exit" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Delete browsing data when closing browser" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="ClearOnExitCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="ClearOnExitCheckbox_Changed"
                                          Unchecked="ClearOnExitCheckbox_Changed"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Security Section -->
                <StackPanel x:Name="SecuritySection" Visibility="Collapsed">
                    <TextBlock Text="Security"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Configure security levels and threat protection"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <!-- Security Level -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Security Level"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="Choose how aggressively Zarla protects you from threats"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       Margin="0,0,0,16"/>

                            <StackPanel>
                                <RadioButton x:Name="SecurityLowRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="SecurityLevel"
                                             Checked="SecurityLevel_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Low" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                            <Border Background="#3D5A3D" CornerRadius="4" Padding="6,2" Margin="8,0,0,0">
                                                <TextBlock Text="Basic" Foreground="#8FBC8F" FontSize="10"/>
                                            </Border>
                                        </StackPanel>
                                        <TextBlock Text="Block only known malicious sites. Best for experienced users." Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="SecurityMediumRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="SecurityLevel"
                                             IsChecked="True"
                                             Checked="SecurityLevel_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Medium" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                            <Border Background="#4A4A2A" CornerRadius="4" Padding="6,2" Margin="8,0,0,0">
                                                <TextBlock Text="Recommended" Foreground="#DAA520" FontSize="10"/>
                                            </Border>
                                        </StackPanel>
                                        <TextBlock Text="Block known threats + suspicious URL patterns. Balanced protection." Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="SecurityHighRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="SecurityLevel"
                                             Checked="SecurityLevel_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="High" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                            <Border Background="#4A2A4A" CornerRadius="4" Padding="6,2" Margin="8,0,0,0">
                                                <TextBlock Text="AI Powered" Foreground="#9370DB" FontSize="10"/>
                                            </Border>
                                        </StackPanel>
                                        <TextBlock Text="All protections + AI scanning for phishing, typosquatting, and suspicious content. Maximum security." Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- AI Security Info -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <TextBlock Text="ðŸ¤–" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="AI Security Scanner"
                                           FontSize="16"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextBrush}"
                                           VerticalAlignment="Center"/>
                                <Border Background="#2A4A2A" CornerRadius="4" Padding="8,4" Margin="12,0,0,0" VerticalAlignment="Center">
                                    <TextBlock Text="âœ“ Free Forever" Foreground="#90EE90" FontSize="11" FontWeight="SemiBold"/>
                                </Border>
                            </StackPanel>
                            <TextBlock TextWrapping="Wrap" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="13" LineHeight="20">
                                When High security is enabled, Zarla uses AI to scan websites in real-time:
                            </TextBlock>
                            <StackPanel Margin="12,12,0,0">
                                <TextBlock Text="â€¢ Detect typosquatting (e.g., g00gle.com, amaz0n.com)" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                                <TextBlock Text="â€¢ Identify phishing pages mimicking legitimate sites" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                                <TextBlock Text="â€¢ Analyze page content for suspicious patterns" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                                <TextBlock Text="â€¢ Detect credential harvesting attempts" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                                <TextBlock Text="â€¢ Block known scam and malware domains" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- VirusTotal Info -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <TextBlock Text="ðŸ›¡ï¸" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="VirusTotal Integration"
                                           FontSize="16"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextBrush}"
                                           VerticalAlignment="Center"/>
                                <Border Background="#3D2A4A" CornerRadius="4" Padding="8,4" Margin="12,0,0,0" VerticalAlignment="Center">
                                    <TextBlock Text="High Security Only" Foreground="#DDA0DD" FontSize="11" FontWeight="SemiBold"/>
                                </Border>
                            </StackPanel>
                            <TextBlock TextWrapping="Wrap" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="13" LineHeight="20">
                                High security level includes VirusTotal scanning powered by 70+ antivirus engines:
                            </TextBlock>
                            <StackPanel Margin="12,12,0,0">
                                <TextBlock Text="â€¢ Scan URLs against 70+ security vendors" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                                <TextBlock Text="â€¢ Scan downloaded files for malware" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                                <TextBlock Text="â€¢ Detect viruses, trojans, ransomware" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                                <TextBlock Text="â€¢ Automatic threat alerts with option to delete" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4"/>
                            </StackPanel>
                            <Border Background="#2D1E2D" CornerRadius="8" Padding="12" Margin="0,16,0,0">
                                <StackPanel>
                                    <TextBlock TextWrapping="Wrap" Foreground="#DDA0DD" FontSize="12">
                                        ðŸ“Š Free tier limits: 4 lookups/min â€¢ 500/day â€¢ 15.5K/month
                                    </TextBlock>
                                    <TextBlock x:Name="VTUsageText" TextWrapping="Wrap" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="11" Margin="0,4,0,0"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- Security Options -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Security Options"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,16"/>

                            <!-- Show Security Warnings -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Show Security Warnings" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Display warning page when threats are detected" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="SecurityWarningsCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          IsChecked="True"
                                          Checked="SecurityWarningsCheckbox_Changed"
                                          Unchecked="SecurityWarningsCheckbox_Changed"/>
                            </Grid>

                            <!-- Block Dangerous Sites -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Block Dangerous Sites" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Automatically block access to high-risk sites" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="BlockDangerousSitesCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          IsChecked="True"
                                          Checked="BlockDangerousSitesCheckbox_Changed"
                                          Unchecked="BlockDangerousSitesCheckbox_Changed"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Documentation Link -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Learn More" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                <TextBlock Text="View documentation about security codes and features" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                            </StackPanel>
                            <Button x:Name="ViewDocsButton"
                                    Grid.Column="1"
                                    Style="{StaticResource ModernButton}"
                                    Content="ðŸ“š  View Docs"
                                    Click="ViewDocsButton_Click"/>
                        </Grid>
                    </Border>
                </StackPanel>

                <!-- Passwords Section -->
                <StackPanel x:Name="PasswordsSection" Visibility="Collapsed">
                    <TextBlock Text="Passwords"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Manage your saved passwords and autofill settings"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <!-- Open Password Manager -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock Text="Password Manager" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                <TextBlock Text="View and manage all your saved passwords" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                            </StackPanel>
                            <Button x:Name="OpenPasswordManagerButton"
                                    Grid.Column="1"
                                    Style="{StaticResource PrimaryButton}"
                                    Content="ðŸ”  Open Passwords"
                                    Click="OpenPasswordManagerButton_Click"/>
                        </Grid>
                    </Border>

                    <!-- Autofill Settings -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Autofill Settings"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,16"/>

                            <!-- Enable Autofill -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Enable Password Autofill" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Automatically fill in passwords on login pages" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="PasswordAutofillCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="PasswordAutofillCheckbox_Changed"
                                          Unchecked="PasswordAutofillCheckbox_Changed"/>
                            </Grid>

                            <!-- Offer to Save Passwords -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Offer to Save Passwords" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Prompt to save new passwords when you sign in" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="OfferSavePasswordsCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="OfferSavePasswordsCheckbox_Changed"
                                          Unchecked="OfferSavePasswordsCheckbox_Changed"/>
                            </Grid>

                            <!-- Auto Sign-in -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Auto Sign-in" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Automatically sign in to sites when only one account is saved" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="AutoSignInCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="AutoSignInCheckbox_Changed"
                                          Unchecked="AutoSignInCheckbox_Changed"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Password Stats -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                <TextBlock Text="ðŸ”’" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="Password Security"
                                           FontSize="16"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextBrush}"
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock TextWrapping="Wrap" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="13" LineHeight="20">
                                Your passwords are encrypted using AES-256-GCM encryption with a master password derived using PBKDF2 (100,000 iterations). Passwords are stored locally on your device and never sent to any server.
                            </TextBlock>
                            <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="8" Padding="16" Margin="0,16,0,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel HorizontalAlignment="Center">
                                        <TextBlock x:Name="SavedPasswordsCount" Text="0" FontSize="24" FontWeight="Bold" Foreground="#8ab4f8" HorizontalAlignment="Center"/>
                                        <TextBlock Text="Saved" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="11" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                        <TextBlock Text="AES-256" FontSize="18" FontWeight="Bold" Foreground="#55ff88" HorizontalAlignment="Center"/>
                                        <TextBlock Text="Encryption" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="11" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                                        <TextBlock Text="Local" FontSize="18" FontWeight="Bold" Foreground="#ffaa55" HorizontalAlignment="Center"/>
                                        <TextBlock Text="Storage" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="11" HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- Import/Export -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24">
                        <StackPanel>
                            <TextBlock Text="Import &amp; Export"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="Backup or restore your passwords"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       Margin="0,0,0,16"/>

                            <StackPanel Orientation="Horizontal">
                                <Button x:Name="ExportPasswordsButton"
                                        Style="{StaticResource ModernButton}"
                                        Content="ðŸ“¤  Export"
                                        Click="ExportPasswordsButton_Click"
                                        Margin="0,0,12,0"/>
                                <Button x:Name="ImportPasswordsButton"
                                        Style="{StaticResource ModernButton}"
                                        Content="ðŸ“¥  Import"
                                        Click="ImportPasswordsButton_Click"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Network Section -->
                <StackPanel x:Name="NetworkSection" Visibility="Collapsed">
                    <TextBlock Text="Network"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Configure DNS and proxy settings"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,8"/>
                    
                    <!-- Restart Notice -->
                    <Border Background="#2D1E1E"
                            CornerRadius="8"
                            Padding="12,8"
                            Margin="0,0,0,24">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="âš " Foreground="#FF8B4C" FontSize="14" VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <TextBlock Text="Network changes require a browser restart to take effect"
                                       Foreground="#FFAA70"
                                       FontSize="12"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- DNS Settings -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="DNS Provider"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="Choose a DNS provider for secure and fast browsing"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       Margin="0,0,0,16"/>

                            <StackPanel>
                                <RadioButton x:Name="DnsSystemRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="DNS"
                                             IsChecked="True"
                                             Checked="DnsRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="System Default" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Use your operating system's DNS settings" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="DnsCloudflareRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="DNS"
                                             Checked="DnsRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Cloudflare (1.1.1.1)" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Fast and privacy-focused DNS by Cloudflare" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="DnsQuad9Radio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="DNS"
                                             Checked="DnsRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Quad9 (9.9.9.9)" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Security-focused DNS with malware blocking" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="DnsGoogleRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="DNS"
                                             Checked="DnsRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Google (8.8.8.8)" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Google's public DNS service" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Proxy Settings -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Proxy Settings"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="Configure proxy for network connections"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       Margin="0,0,0,16"/>

                            <StackPanel>
                                <RadioButton x:Name="ProxyNoneRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="Proxy"
                                             IsChecked="True"
                                             Checked="ProxyRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="No Proxy" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Connect directly to websites" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="ProxySystemRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="Proxy"
                                             Checked="ProxyRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Use System Proxy" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Use your operating system's proxy settings" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="ProxyCustomRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="Proxy"
                                             Checked="ProxyRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Custom Proxy" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Configure your own proxy server" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>
                            </StackPanel>

                            <!-- Custom Proxy Fields -->
                            <StackPanel x:Name="CustomProxyPanel" Visibility="Collapsed" Margin="0,16,0,0">
                                <Grid Margin="0,0,0,12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="Address:" Foreground="{DynamicResource TextBrush}" VerticalAlignment="Center"/>
                                    <TextBox x:Name="ProxyAddressTextBox" Grid.Column="1" Style="{StaticResource ModernTextBox}" 
                                             TextChanged="ProxySettings_Changed"/>
                                </Grid>
                                <Grid Margin="0,0,0,12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="120"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="Port:" Foreground="{DynamicResource TextBrush}" VerticalAlignment="Center"/>
                                    <TextBox x:Name="ProxyPortTextBox" Grid.Column="1" Style="{StaticResource ModernTextBox}"
                                             TextChanged="ProxySettings_Changed"/>
                                </Grid>
                                <CheckBox x:Name="ProxyAuthCheckbox" 
                                          Content="Requires Authentication"
                                          Foreground="{DynamicResource TextBrush}"
                                          Margin="0,0,0,12"
                                          Checked="ProxyAuthCheckbox_Changed"
                                          Unchecked="ProxyAuthCheckbox_Changed"/>
                                <StackPanel x:Name="ProxyAuthPanel" Visibility="Collapsed">
                                    <Grid Margin="0,0,0,12">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="Username:" Foreground="{DynamicResource TextBrush}" VerticalAlignment="Center"/>
                                        <TextBox x:Name="ProxyUsernameTextBox" Grid.Column="1" Style="{StaticResource ModernTextBox}"
                                                 TextChanged="ProxySettings_Changed"/>
                                    </Grid>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="Password:" Foreground="{DynamicResource TextBrush}" VerticalAlignment="Center"/>
                                        <PasswordBox x:Name="ProxyPasswordBox" Grid.Column="1" 
                                                     Background="{DynamicResource BackgroundBrush}"
                                                     Foreground="{DynamicResource TextBrush}"
                                                     BorderBrush="{DynamicResource BorderBrush}"
                                                     Padding="12,10"
                                                     PasswordChanged="ProxyPassword_Changed"/>
                                    </Grid>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Performance Section -->
                <StackPanel x:Name="PerformanceSection" Visibility="Collapsed">
                    <TextBlock Text="Performance"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Optimize browser speed and memory usage"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <!-- Tab Suspension -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Tab Suspension" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Suspend inactive tabs to save memory" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="TabSuspensionCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="TabSuspensionCheckbox_Changed"
                                          Unchecked="TabSuspensionCheckbox_Changed"/>
                            </Grid>

                            <!-- Suspension Timeout -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="180"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Suspension Timeout" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Minutes before suspending inactive tabs" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <ComboBox x:Name="SuspensionTimeoutCombo"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernComboBox}"
                                          SelectionChanged="SuspensionTimeoutCombo_SelectionChanged"/>
                            </Grid>

                            <!-- Hardware Acceleration -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Hardware Acceleration" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Use GPU for better performance" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="HardwareAccelCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="HardwareAccelCheckbox_Changed"
                                          Unchecked="HardwareAccelCheckbox_Changed"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Data Section -->
                <StackPanel x:Name="DataSection" Visibility="Collapsed">
                    <TextBlock Text="Data"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Manage your browsing data"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Clear Browsing Data" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock x:Name="CacheSizeText" Text="Cache, cookies, and history" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <Button Style="{StaticResource DangerButton}"
                                        Grid.Column="1"
                                        Content="ðŸ—‘ï¸  Clear Data"
                                        Click="ClearDataButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- AI Section -->
                <StackPanel x:Name="AISection" Visibility="Collapsed">
                    <TextBlock Text="AI Assistant"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Configure AI-powered features"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <!-- AI Enable/Disable -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Enable AI Features" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Use AI to summarize pages, answer questions, and more" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="AIEnabledCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="AIEnabledCheckbox_Changed"
                                          Unchecked="AIEnabledCheckbox_Changed"/>
                            </Grid>

                            <!-- Model Selection -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="280"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="AI Model" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Select which model to use for AI features" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <ComboBox x:Name="AIModelCombo"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernComboBox}"
                                          SelectionChanged="AIModelCombo_SelectionChanged"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Usage Limits -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Usage Limits"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="Daily limits reset every 24 hours"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       Margin="0,0,0,16"/>

                            <!-- Usage Stats -->
                            <Border Background="{DynamicResource BackgroundBrush}"
                                    CornerRadius="8"
                                    Padding="16"
                                    Margin="0,0,0,16">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock x:Name="UsageStatsText"
                                                   Text="Loading usage stats..."
                                                   Foreground="{DynamicResource TextBrush}"
                                                   FontSize="14"/>
                                        <TextBlock x:Name="UsageResetText"
                                                   Text=""
                                                   Foreground="{DynamicResource TextSecondaryBrush}"
                                                   FontSize="12"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <Border x:Name="UnlimitedBadge"
                                            Grid.Column="1"
                                            Background="#1a5c3a"
                                            CornerRadius="12"
                                            Padding="12,6"
                                            Visibility="Collapsed">
                                        <TextBlock Text="UNLIMITED"
                                                   FontSize="11"
                                                   FontWeight="Bold"
                                                   Foreground="#55ff55"/>
                                    </Border>
                                </Grid>
                            </Border>

                            <!-- Bypass Code -->
                            <TextBlock Text="Bypass Code"
                                       FontSize="14"
                                       FontWeight="Medium"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,8"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="BypassCodeTextBox"
                                         Style="{StaticResource ModernTextBox}"
                                         Margin="0,0,8,0"/>
                                <Button x:Name="ActivateBypassButton"
                                        Grid.Column="1"
                                        Style="{StaticResource PrimaryButton}"
                                        Content="Activate"
                                        Click="ActivateBypassButton_Click"/>
                            </Grid>
                            <TextBlock Text="Enter a valid code for unlimited AI usage"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Custom Models -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Custom Models"
                                               FontSize="16"
                                               FontWeight="SemiBold"
                                               Foreground="{DynamicResource TextBrush}"/>
                                    <TextBlock Text="Add your own AI models with custom API keys"
                                               FontSize="12"
                                               Foreground="{DynamicResource TextSecondaryBrush}"
                                               Margin="0,4,0,0"/>
                                </StackPanel>
                                <Button Style="{StaticResource PrimaryButton}"
                                        Grid.Column="1"
                                        Content="+ Add Model"
                                        Click="AddCustomModelButton_Click"/>
                            </Grid>

                            <!-- Custom Models List -->
                            <StackPanel x:Name="CustomModelsPanel">
                                <!-- Custom models will be added here -->
                            </StackPanel>

                            <TextBlock x:Name="NoCustomModelsText"
                                       Text="No custom models added yet"
                                       FontSize="13"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       FontStyle="Italic"
                                       HorizontalAlignment="Center"
                                       Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Model Info -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24">
                        <StackPanel>
                            <TextBlock Text="Available Models"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,16"/>

                            <!-- GPT-OSS 120B -->
                            <Border Background="{DynamicResource BackgroundBrush}"
                                    CornerRadius="8"
                                    Padding="16"
                                    Margin="0,0,0,8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="GPT-OSS 120B" FontSize="14" FontWeight="Medium" Foreground="{DynamicResource TextBrush}"/>
                                        <TextBlock Text="Powerful 120B parameter model for complex tasks" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" Margin="0,2,0,0"/>
                                    </StackPanel>
                                    <Border Background="#2d1e3a" CornerRadius="6" Padding="8,4" VerticalAlignment="Center">
                                        <TextBlock Text="10/day" FontSize="11" Foreground="#b388ff"/>
                                    </Border>
                                </Grid>
                            </Border>

                            <!-- GPT-OSS 20B -->
                            <Border Background="{DynamicResource BackgroundBrush}"
                                    CornerRadius="8"
                                    Padding="16"
                                    Margin="0,0,0,8">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="GPT-OSS 20B" FontSize="14" FontWeight="Medium" Foreground="{DynamicResource TextBrush}"/>
                                        <TextBlock Text="Balanced 20B model for general use" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" Margin="0,2,0,0"/>
                                    </StackPanel>
                                    <Border Background="#2d1e3a" CornerRadius="6" Padding="8,4" VerticalAlignment="Center">
                                        <TextBlock Text="25/day" FontSize="11" Foreground="#b388ff"/>
                                    </Border>
                                </Grid>
                            </Border>

                            <!-- Llama 4 Scout -->
                            <Border Background="{DynamicResource BackgroundBrush}"
                                    CornerRadius="8"
                                    Padding="16">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Llama 4 Scout 17B" FontSize="14" FontWeight="Medium" Foreground="{DynamicResource TextBrush}"/>
                                        <TextBlock Text="Fast and efficient instruction-following model" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" Margin="0,2,0,0"/>
                                    </StackPanel>
                                    <Border Background="#1a3a2d" CornerRadius="6" Padding="8,4" VerticalAlignment="Center">
                                        <TextBlock Text="30/day" FontSize="11" Foreground="#55ff88"/>
                                    </Border>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- About Section -->
                <StackPanel x:Name="AboutSection" Visibility="Collapsed">
                    <TextBlock Text="About"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Information about Zarla Browser"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="32"
                            Margin="0,0,0,16">
                        <StackPanel HorizontalAlignment="Center">
                            <!-- Logo -->
                            <Border Width="80" Height="80"
                                    CornerRadius="20"
                                    HorizontalAlignment="Center"
                                    Margin="0,0,0,20">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#FF6B35" Offset="0"/>
                                        <GradientStop Color="#FF8B4C" Offset="0.5"/>
                                        <GradientStop Color="#FF4D2D" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <TextBlock Text="Z"
                                           FontSize="48"
                                           FontWeight="ExtraBold"
                                           FontFamily="Segoe UI"
                                           Foreground="White"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Margin="0,-2,0,0"/>
                            </Border>

                            <TextBlock x:Name="AboutBrowserName"
                                       Text="Zarla Browser"
                                       FontSize="24"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       HorizontalAlignment="Center"/>
                            <TextBlock x:Name="AboutVersionText"
                                       Text="Version 1.0.0"
                                       FontSize="14"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       HorizontalAlignment="Center"
                                       Margin="0,4,0,0"/>
                            <TextBlock Text="A fast, lightweight, privacy-focused browser"
                                       FontSize="14"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       HorizontalAlignment="Center"
                                       Margin="0,16,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Update Section -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock x:Name="UpdateStatusText"
                                           Text="Check for updates"
                                           FontSize="14"
                                           Foreground="{DynamicResource TextBrush}"/>
                                <TextBlock x:Name="UpdateSubText"
                                           Text="Click the button to check for new versions"
                                           FontSize="12"
                                           Foreground="{DynamicResource TextSecondaryBrush}"
                                           Margin="0,4,0,0"/>
                            </StackPanel>

                            <Button x:Name="CheckUpdateButton"
                                    Grid.Column="1"
                                    Content="Check for Updates"
                                    Style="{StaticResource PrimaryButton}"
                                    Padding="16,8"
                                    Click="CheckUpdate_Click"/>
                        </Grid>
                    </Border>

                    <!-- Update Available Panel (hidden by default) -->
                    <Border x:Name="UpdateAvailablePanel"
                            Visibility="Collapsed"
                            Background="#2d3a2d"
                            CornerRadius="12"
                            Padding="20"
                            Margin="0,0,0,16">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Orientation="Horizontal">
                                <TextBlock Text="ðŸŽ‰" FontSize="18" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock x:Name="NewVersionText"
                                           Text="New version available!"
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           Foreground="#00b894"
                                           VerticalAlignment="Center"/>
                            </StackPanel>

                            <TextBlock x:Name="ReleaseNotesText"
                                       Grid.Row="1"
                                       Text=""
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       TextWrapping="Wrap"
                                       Margin="0,8,0,0"
                                       MaxHeight="100"/>

                            <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,12,0,0">
                                <Button x:Name="DownloadUpdateButton"
                                        Content="Download Update"
                                        Style="{StaticResource PrimaryButton}"
                                        Padding="16,8"
                                        Click="DownloadUpdate_Click"/>
                                <Button x:Name="ViewReleaseButton"
                                        Content="View Release"
                                        Style="{StaticResource SecondaryButton}"
                                        Padding="16,8"
                                        Margin="8,0,0,0"
                                        Click="ViewRelease_Click"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Download Progress Panel -->
                    <Border x:Name="DownloadProgressPanel"
                            Visibility="Collapsed"
                            Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="20"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock x:Name="DownloadStatusText"
                                       Text="Downloading update..."
                                       FontSize="14"
                                       Foreground="{DynamicResource TextBrush}"/>
                            <ProgressBar x:Name="DownloadProgressBar"
                                         Height="6"
                                         Margin="0,12,0,0"
                                         Background="{DynamicResource BackgroundBrush}"
                                         Foreground="{DynamicResource AccentBrush}"
                                         BorderThickness="0"/>
                            <TextBlock x:Name="DownloadProgressText"
                                       Text="0%"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       HorizontalAlignment="Right"
                                       Margin="0,4,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Credits -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24">
                        <StackPanel>
                            <TextBlock Text="Built With"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,16"/>
                            <WrapPanel>
                                <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="6" Padding="12,6" Margin="0,0,8,8">
                                    <TextBlock Text=".NET 8" Foreground="{DynamicResource TextBrush}" FontSize="12"/>
                                </Border>
                                <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="6" Padding="12,6" Margin="0,0,8,8">
                                    <TextBlock Text="WPF" Foreground="{DynamicResource TextBrush}" FontSize="12"/>
                                </Border>
                                <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="6" Padding="12,6" Margin="0,0,8,8">
                                    <TextBlock Text="WebView2" Foreground="{DynamicResource TextBrush}" FontSize="12"/>
                                </Border>
                                <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="6" Padding="12,6" Margin="0,0,8,8">
                                    <TextBlock Text="SQLite" Foreground="{DynamicResource TextBrush}" FontSize="12"/>
                                </Border>
                            </WrapPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>

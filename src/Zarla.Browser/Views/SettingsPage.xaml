<UserControl x:Class="Zarla.Browser.Views.SettingsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="{DynamicResource BackgroundBrush}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar Navigation -->
        <Border Grid.Column="0" 
                Background="{DynamicResource SurfaceBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="0,0,1,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Header -->
                <StackPanel Grid.Row="0" Margin="20,24,20,24">
                    <TextBlock Text="âš™ï¸ Settings"
                               FontSize="24"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"/>
                </StackPanel>

                <!-- Navigation Items -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="NavPanel" Margin="8,0">
                        <RadioButton x:Name="GeneralNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸ   General" IsChecked="True"
                                     Checked="NavButton_Checked" Tag="General"/>
                        <RadioButton x:Name="AppearanceNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸŽ¨  Appearance"
                                     Checked="NavButton_Checked" Tag="Appearance"/>
                        <RadioButton x:Name="PrivacyNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸ”’  Privacy &amp; Security"
                                     Checked="NavButton_Checked" Tag="Privacy"/>
                        <RadioButton x:Name="NetworkNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸŒ  Network"
                                     Checked="NavButton_Checked" Tag="Network"/>
                        <RadioButton x:Name="PerformanceNav" Style="{StaticResource NavButton}" 
                                     Content="âš¡  Performance"
                                     Checked="NavButton_Checked" Tag="Performance"/>
                        <RadioButton x:Name="DataNav" Style="{StaticResource NavButton}" 
                                     Content="ðŸ’¾  Data"
                                     Checked="NavButton_Checked" Tag="Data"/>
                        <RadioButton x:Name="AboutNav" Style="{StaticResource NavButton}" 
                                     Content="â„¹ï¸  About"
                                     Checked="NavButton_Checked" Tag="About"/>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- Content Area -->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto" Padding="40,24,40,40">
            <StackPanel MaxWidth="700">

                <!-- General Section -->
                <StackPanel x:Name="GeneralSection">
                    <TextBlock Text="General"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Basic browser settings"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <!-- Homepage -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="280"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Homepage" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Page to show when opening new windows" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <TextBox x:Name="HomepageTextBox"
                                         Grid.Column="1"
                                         Style="{StaticResource ModernTextBox}"
                                         TextChanged="HomepageTextBox_TextChanged"/>
                            </Grid>

                            <!-- Search Engine -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="280"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Search Engine" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Default search provider for address bar" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <ComboBox x:Name="SearchEngineCombo"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernComboBox}"
                                          SelectionChanged="SearchEngineCombo_SelectionChanged"/>
                            </Grid>

                            <!-- Download Path -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="280"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Download Location" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock x:Name="DownloadPathText" Text="Where to save downloaded files" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0" TextTrimming="CharacterEllipsis"/>
                                </StackPanel>
                                <Button x:Name="DownloadPathButton"
                                        Grid.Column="1"
                                        Style="{StaticResource ModernButton}"
                                        Content="ðŸ“  Choose Folder"
                                        Click="DownloadPathButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Appearance Section -->
                <StackPanel x:Name="AppearanceSection" Visibility="Collapsed">
                    <TextBlock Text="Appearance"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Customize how Zarla looks"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <!-- Theme -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Theme" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Choose between dark and light mode" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                    <RadioButton x:Name="DarkThemeRadio"
                                                 Style="{StaticResource ThemeRadioButton}"
                                                 Content="ðŸŒ™ Dark"
                                                 Margin="0,0,12,0"
                                                 Checked="ThemeRadio_Checked"/>
                                    <RadioButton x:Name="LightThemeRadio"
                                                 Style="{StaticResource ThemeRadioButton}"
                                                 Content="â˜€ï¸ Light"
                                                 Checked="ThemeRadio_Checked"/>
                                </StackPanel>
                            </Grid>

                            <!-- Show Bookmarks Bar -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Show Bookmarks Bar" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Display bookmarks below the address bar" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="BookmarksBarCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="BookmarksBarCheckbox_Changed"
                                          Unchecked="BookmarksBarCheckbox_Changed"/>
                            </Grid>

                            <!-- Show Home Button -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Show Home Button" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Display home button in navigation bar" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="HomeButtonCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="HomeButtonCheckbox_Changed"
                                          Unchecked="HomeButtonCheckbox_Changed"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Privacy Section -->
                <StackPanel x:Name="PrivacySection" Visibility="Collapsed">
                    <TextBlock Text="Privacy &amp; Security"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Control how Zarla protects your privacy"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <!-- Ad Blocker -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Block Ads" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Block advertisements and popups" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="AdBlockerCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="AdBlockerCheckbox_Changed"
                                          Unchecked="AdBlockerCheckbox_Changed"/>
                            </Grid>

                            <!-- Tracker Blocker -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Block Trackers" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Prevent websites from tracking you" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="TrackerBlockerCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="TrackerBlockerCheckbox_Changed"
                                          Unchecked="TrackerBlockerCheckbox_Changed"/>
                            </Grid>

                            <!-- Fingerprint Protection -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Fingerprint Protection" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Randomize browser fingerprint" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="FingerprintCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="FingerprintCheckbox_Changed"
                                          Unchecked="FingerprintCheckbox_Changed"/>
                            </Grid>

                            <!-- Do Not Track -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Send 'Do Not Track'" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Request websites not to track you" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="DoNotTrackCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="DoNotTrackCheckbox_Changed"
                                          Unchecked="DoNotTrackCheckbox_Changed"/>
                            </Grid>

                            <!-- Clear on Exit -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Clear Data on Exit" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Delete browsing data when closing browser" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="ClearOnExitCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="ClearOnExitCheckbox_Changed"
                                          Unchecked="ClearOnExitCheckbox_Changed"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Network Section -->
                <StackPanel x:Name="NetworkSection" Visibility="Collapsed">
                    <TextBlock Text="Network"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Configure DNS and proxy settings"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,8"/>
                    
                    <!-- Restart Notice -->
                    <Border Background="#2D1E1E"
                            CornerRadius="8"
                            Padding="12,8"
                            Margin="0,0,0,24">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="âš " Foreground="#FF8B4C" FontSize="14" VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <TextBlock Text="Network changes require a browser restart to take effect"
                                       Foreground="#FFAA70"
                                       FontSize="12"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- DNS Settings -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="DNS Provider"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="Choose a DNS provider for secure and fast browsing"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       Margin="0,0,0,16"/>

                            <StackPanel>
                                <RadioButton x:Name="DnsSystemRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="DNS"
                                             IsChecked="True"
                                             Checked="DnsRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="System Default" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Use your operating system's DNS settings" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="DnsCloudflareRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="DNS"
                                             Checked="DnsRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Cloudflare (1.1.1.1)" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Fast and privacy-focused DNS by Cloudflare" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="DnsQuad9Radio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="DNS"
                                             Checked="DnsRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Quad9 (9.9.9.9)" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Security-focused DNS with malware blocking" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="DnsGoogleRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="DNS"
                                             Checked="DnsRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Google (8.8.8.8)" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Google's public DNS service" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Proxy Settings -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Proxy Settings"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="Configure proxy for network connections"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       Margin="0,0,0,16"/>

                            <StackPanel>
                                <RadioButton x:Name="ProxyNoneRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="Proxy"
                                             IsChecked="True"
                                             Checked="ProxyRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="No Proxy" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Connect directly to websites" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="ProxySystemRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="Proxy"
                                             Checked="ProxyRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Use System Proxy" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Use your operating system's proxy settings" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>

                                <RadioButton x:Name="ProxyCustomRadio" 
                                             Style="{StaticResource SettingsRadioButton}"
                                             GroupName="Proxy"
                                             Checked="ProxyRadio_Checked">
                                    <StackPanel Margin="8,0,0,0">
                                        <TextBlock Text="Custom Proxy" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                        <TextBlock Text="Configure your own proxy server" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
                                    </StackPanel>
                                </RadioButton>
                            </StackPanel>

                            <!-- Custom Proxy Fields -->
                            <StackPanel x:Name="CustomProxyPanel" Visibility="Collapsed" Margin="0,16,0,0">
                                <Grid Margin="0,0,0,12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="Address:" Foreground="{DynamicResource TextBrush}" VerticalAlignment="Center"/>
                                    <TextBox x:Name="ProxyAddressTextBox" Grid.Column="1" Style="{StaticResource ModernTextBox}" 
                                             TextChanged="ProxySettings_Changed"/>
                                </Grid>
                                <Grid Margin="0,0,0,12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="120"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="Port:" Foreground="{DynamicResource TextBrush}" VerticalAlignment="Center"/>
                                    <TextBox x:Name="ProxyPortTextBox" Grid.Column="1" Style="{StaticResource ModernTextBox}"
                                             TextChanged="ProxySettings_Changed"/>
                                </Grid>
                                <CheckBox x:Name="ProxyAuthCheckbox" 
                                          Content="Requires Authentication"
                                          Foreground="{DynamicResource TextBrush}"
                                          Margin="0,0,0,12"
                                          Checked="ProxyAuthCheckbox_Changed"
                                          Unchecked="ProxyAuthCheckbox_Changed"/>
                                <StackPanel x:Name="ProxyAuthPanel" Visibility="Collapsed">
                                    <Grid Margin="0,0,0,12">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="Username:" Foreground="{DynamicResource TextBrush}" VerticalAlignment="Center"/>
                                        <TextBox x:Name="ProxyUsernameTextBox" Grid.Column="1" Style="{StaticResource ModernTextBox}"
                                                 TextChanged="ProxySettings_Changed"/>
                                    </Grid>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="Password:" Foreground="{DynamicResource TextBrush}" VerticalAlignment="Center"/>
                                        <PasswordBox x:Name="ProxyPasswordBox" Grid.Column="1" 
                                                     Background="{DynamicResource BackgroundBrush}"
                                                     Foreground="{DynamicResource TextBrush}"
                                                     BorderBrush="{DynamicResource BorderBrush}"
                                                     Padding="12,10"
                                                     PasswordChanged="ProxyPassword_Changed"/>
                                    </Grid>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Performance Section -->
                <StackPanel x:Name="PerformanceSection" Visibility="Collapsed">
                    <TextBlock Text="Performance"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Optimize browser speed and memory usage"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <!-- Tab Suspension -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Tab Suspension" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Suspend inactive tabs to save memory" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="TabSuspensionCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="TabSuspensionCheckbox_Changed"
                                          Unchecked="TabSuspensionCheckbox_Changed"/>
                            </Grid>

                            <!-- Suspension Timeout -->
                            <Grid Margin="0,0,0,20">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="180"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Suspension Timeout" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Minutes before suspending inactive tabs" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <ComboBox x:Name="SuspensionTimeoutCombo"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernComboBox}"
                                          SelectionChanged="SuspensionTimeoutCombo_SelectionChanged"/>
                            </Grid>

                            <!-- Hardware Acceleration -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Hardware Acceleration" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock Text="Use GPU for better performance" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <CheckBox x:Name="HardwareAccelCheckbox"
                                          Grid.Column="1"
                                          Style="{StaticResource ModernToggle}"
                                          Checked="HardwareAccelCheckbox_Changed"
                                          Unchecked="HardwareAccelCheckbox_Changed"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Data Section -->
                <StackPanel x:Name="DataSection" Visibility="Collapsed">
                    <TextBlock Text="Data"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Manage your browsing data"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Clear Browsing Data" Foreground="{DynamicResource TextBrush}" FontSize="14" FontWeight="Medium"/>
                                    <TextBlock x:Name="CacheSizeText" Text="Cache, cookies, and history" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" Margin="0,4,0,0"/>
                                </StackPanel>
                                <Button Style="{StaticResource DangerButton}"
                                        Grid.Column="1"
                                        Content="ðŸ—‘ï¸  Clear Data"
                                        Click="ClearDataButton_Click"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- About Section -->
                <StackPanel x:Name="AboutSection" Visibility="Collapsed">
                    <TextBlock Text="About"
                               FontSize="28"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Information about Zarla Browser"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,0,0,24"/>

                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="32"
                            Margin="0,0,0,16">
                        <StackPanel HorizontalAlignment="Center">
                            <!-- Logo -->
                            <Border Width="80" Height="80"
                                    CornerRadius="20"
                                    HorizontalAlignment="Center"
                                    Margin="0,0,0,20">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#FF6B35" Offset="0"/>
                                        <GradientStop Color="#FF8B4C" Offset="0.5"/>
                                        <GradientStop Color="#FF4D2D" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <TextBlock Text="Z"
                                           FontSize="48"
                                           FontWeight="ExtraBold"
                                           FontFamily="Segoe UI"
                                           Foreground="White"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Margin="0,-2,0,0"/>
                            </Border>

                            <TextBlock Text="Zarla Browser"
                                       FontSize="24"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       HorizontalAlignment="Center"/>
                            <TextBlock Text="Version 1.0.0"
                                       FontSize="14"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       HorizontalAlignment="Center"
                                       Margin="0,4,0,0"/>
                            <TextBlock Text="A fast, lightweight, privacy-focused browser"
                                       FontSize="14"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       HorizontalAlignment="Center"
                                       Margin="0,16,0,0"/>
                            <TextBlock Text="Inspired by Chromium â€¢ Built with WebView2"
                                       FontSize="12"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       HorizontalAlignment="Center"
                                       Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Credits -->
                    <Border Background="{DynamicResource SurfaceBrush}"
                            CornerRadius="12"
                            Padding="24"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Built With"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="0,0,0,16"/>
                            <WrapPanel>
                                <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="6" Padding="12,6" Margin="0,0,8,8">
                                    <TextBlock Text=".NET 8" Foreground="{DynamicResource TextBrush}" FontSize="12"/>
                                </Border>
                                <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="6" Padding="12,6" Margin="0,0,8,8">
                                    <TextBlock Text="WPF" Foreground="{DynamicResource TextBrush}" FontSize="12"/>
                                </Border>
                                <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="6" Padding="12,6" Margin="0,0,8,8">
                                    <TextBlock Text="WebView2" Foreground="{DynamicResource TextBrush}" FontSize="12"/>
                                </Border>
                                <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="6" Padding="12,6" Margin="0,0,8,8">
                                    <TextBlock Text="SQLite" Foreground="{DynamicResource TextBrush}" FontSize="12"/>
                                </Border>
                            </WrapPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>

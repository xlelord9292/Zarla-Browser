<UserControl x:Class="Zarla.Browser.Views.SavePasswordPopup"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="380" Background="Transparent">
    <Border Background="#1e1e1e" CornerRadius="12"
            BorderBrush="#333" BorderThickness="1">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="4"
                              Direction="270" Color="#000000" Opacity="0.4"/>
        </Border.Effect>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="#252525" CornerRadius="12,12,0,0" Padding="16,14">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Key Icon -->
                    <Border Width="36" Height="36" CornerRadius="8" Background="#2a4a6a">
                        <TextBlock Text="&#xE8D7;" FontFamily="Segoe MDL2 Assets" FontSize="16"
                                   Foreground="#8ab4f8"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <!-- Text -->
                    <StackPanel Grid.Column="1" Margin="12,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="Save password?" FontSize="14" FontWeight="SemiBold"
                                   Foreground="White"/>
                        <TextBlock x:Name="SiteText" Text="example.com" FontSize="12"
                                   Foreground="#888" Margin="0,2,0,0"/>
                    </StackPanel>

                    <!-- Close Button -->
                    <Button Grid.Column="2" Click="Close_Click"
                            Background="Transparent" BorderThickness="0"
                            Width="28" Height="28" Cursor="Hand" Padding="0">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="border" Background="Transparent" CornerRadius="4">
                                    <TextBlock Text="&#xE711;" FontFamily="Segoe MDL2 Assets"
                                               FontSize="10" Foreground="#888"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="border" Property="Background" Value="#333"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
            </Border>

            <!-- Credentials Display -->
            <StackPanel Grid.Row="1" Margin="16,16,16,12">
                <!-- Username -->
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border Width="32" Height="32" CornerRadius="6" Background="#333">
                        <TextBlock Text="&#xE77B;" FontFamily="Segoe MDL2 Assets" FontSize="14"
                                   Foreground="#8ab4f8"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel Grid.Column="1" Margin="12,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="Username" FontSize="11" Foreground="#666"/>
                        <TextBlock x:Name="UsernameText" Text="user@example.com" FontSize="13"
                                   Foreground="White" TextTrimming="CharacterEllipsis"/>
                    </StackPanel>
                </Grid>

                <!-- Password -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Border Width="32" Height="32" CornerRadius="6" Background="#333">
                        <TextBlock Text="&#xE8D7;" FontFamily="Segoe MDL2 Assets" FontSize="14"
                                   Foreground="#8ab4f8"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel Grid.Column="1" Margin="12,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="Password" FontSize="11" Foreground="#666"/>
                        <TextBlock x:Name="PasswordText" Text="••••••••••••" FontSize="13"
                                   Foreground="White"/>
                    </StackPanel>
                    <Button x:Name="ShowPasswordBtn" Grid.Column="2" Click="TogglePassword_Click"
                            Background="Transparent" BorderThickness="0" Cursor="Hand"
                            Width="32" Height="32" Padding="0" ToolTip="Show password">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="border" Background="Transparent" CornerRadius="4">
                                    <TextBlock x:Name="icon" Text="&#xE7B3;" FontFamily="Segoe MDL2 Assets"
                                               FontSize="14" Foreground="#888"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="border" Property="Background" Value="#333"/>
                                        <Setter TargetName="icon" Property="Foreground" Value="White"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
            </StackPanel>

            <!-- Action Buttons -->
            <Border Grid.Row="2" Background="#1a1a1a" CornerRadius="0,0,12,12" Padding="16,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Never for this site -->
                    <Button Click="Never_Click" Background="Transparent"
                            Foreground="#888" BorderThickness="0"
                            Padding="12,8" Cursor="Hand" FontSize="13">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="border" Background="Transparent" CornerRadius="6"
                                        Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="border" Property="Background" Value="#2a2a2a"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                        <TextBlock Text="Never"/>
                    </Button>

                    <!-- Save Button -->
                    <Button Grid.Column="2" Click="Save_Click"
                            Background="#8ab4f8" Foreground="#1a1a1a"
                            BorderThickness="0" Padding="24,10" Cursor="Hand" FontSize="13"
                            FontWeight="SemiBold">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="border" Background="{TemplateBinding Background}"
                                        CornerRadius="6" Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="border" Property="Background" Value="#9dc4ff"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter TargetName="border" Property="Background" Value="#7aa4e8"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#xE74E;" FontFamily="Segoe MDL2 Assets" FontSize="12"
                                       VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <TextBlock Text="Save"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </Border>
        </Grid>
    </Border>
</UserControl>
